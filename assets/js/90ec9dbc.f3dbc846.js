"use strict";(self.webpackChunkocto_develop_zone=self.webpackChunkocto_develop_zone||[]).push([[4086],{6301:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>p,frontMatter:()=>o,metadata:()=>a,toc:()=>l});var s=t(4848),i=t(8453);const o={},r=void 0,a={id:"Implement Features/Events",title:"Events",description:"event-sequence",source:"@site/docs/Implement Features/Events.md",sourceDirName:"Implement Features",slug:"/Implement Features/Events",permalink:"/Implement Features/Events",draft:!1,unlisted:!1,editUrl:"https://github.com/allxon/developer-zone/edit/master/docs/Implement Features/Events.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Metrics",permalink:"/Implement Features/Metrics"},next:{title:"Configs",permalink:"/Implement Features/Configs"}},d={},l=[{value:"Tutorials",id:"tutorials",level:2}];function c(e){const n={code:"code",h2:"h2",img:"img",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"event-sequence",src:t(6501).A+"",width:"3196",height:"1214"})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.strong,{children:"Events"})," card displays the history of activities and events defined by the plugin. Its card sequence flow is the same as that of the ",(0,s.jsx)(n.strong,{children:"States"})," card. After initializing the card with ",(0,s.jsx)(n.code,{children:"v2/notifyPluginUpdate"}),", you can send ",(0,s.jsx)(n.code,{children:"v2/notifyPluginEvent"})," to upload events."]}),"\n",(0,s.jsx)(n.h2,{id:"tutorials",children:"Tutorials"}),"\n",(0,s.jsxs)(n.p,{children:["Here is an example of creating the ",(0,s.jsx)(n.strong,{children:"Events"})," card:"]}),"\n",(0,s.jsxs)(n.p,{children:["First, send the following ",(0,s.jsx)(n.code,{children:"v2/notifyPluginUpdate"})," JSON. You need to define ",(0,s.jsx)(n.code,{children:'"name"'})," and ",(0,s.jsx)(n.code,{children:'"displayName"'})," for a plugin-supported event."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",metastring:"{17-24}",children:'{\n  "jsonrpc": "2.0",\n  "method": "v2/notifyPluginUpdate",\n  "params": {\n    "sdk": "${OCTO_SDK_VERSION}",\n    "appGUID": "${PLUGIN_APP_GUID}",\n    "appName": "${PLUGIN_NAME}",\n    "epoch": "",\n    "displayName": "plugIN Hello",\n    "type": "ib",\n    "version": "${PLUGIN_VERSION}",\n    "modules": [\n      {\n        "moduleName": "${PLUGIN_NAME}",\n        "displayName": "plugIN Hello",\n        "properties": [],\n        "events": [\n          {\n            "description": "Event trigger when box opened",\n            "displayCategory": "category1",\n            "displayName": "Box Open Event",\n            "name": "box-open-event"\n          }\n        ]\n      }\n    ]\n  }\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Once done, Allxon Portal shows the ",(0,s.jsx)(n.strong,{children:"Events"})," card below."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"event-init",src:t(5435).A+"",width:"581",height:"313"})}),"\n",(0,s.jsxs)(n.p,{children:["Now you can send ",(0,s.jsx)(n.code,{children:"v2/notifyPluginEvent"})," to upload an event record.\nThe ",(0,s.jsx)(n.code,{children:'"name"'})," must be identical to that in ",(0,s.jsx)(n.code,{children:'"v2/notifyPluginUpdate.json"'}),", and the data type of ",(0,s.jsx)(n.code,{children:'"value"'})," must be ",(0,s.jsx)(n.strong,{children:"String"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n   "jsonrpc": "2.0",\n   "method": "v2/notifyPluginEvent",\n   "params": {\n      "appGUID": "${PLUGIN_APP_GUID}",\n      "moduleName": "${PLUGIN_NAME}",\n      "epoch": "",\n      "events": [\n         {\n            "name": "box-open-event",\n            "value": "open"\n         }\n      ]\n   }\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:'"value"'})," is shown in the ",(0,s.jsx)(n.strong,{children:"Detail"})," column. The ",(0,s.jsx)(n.strong,{children:"Events"})," card then displays like this:"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"event-init",src:t(3337).A+"",width:"3146",height:"1115"})})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},3337:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/event-first-shot-40f8664b97399369b289f9b278f40600.svg"},5435:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/event-init-17263c0531b247affe2196acc8e3ef13.png"},6501:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/event-sequence-99966d6092d6b1906f346019a0d9f383.svg"},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>a});var s=t(6540);const i={},o=s.createContext(i);function r(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);